{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>LawQuick 로그인</title>

  <!-- ✅ 폰트 로딩 -->
  <link href="https://cdn.jsdelivr.net/npm/spoqa-han-sans@2.1.2/css/SpoqaHanSans.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Koh+Santepheap&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'css/lawquick-login.css' %}" />
  <link rel="stylesheet" href="{% static 'css/common.css' %}" />
</head>
<body>
  <div class="container-flex">
    <!-- 왼쪽 안내 영역 -->
    <div class="left-box">
      <div class="left-content">
        <h1 class="left-logo">LawQuick</h1>
        <p>
          이혼의 불안한 여정, 혼자 걱정 마세요.<br />
          lawquick은 당신의 상황을 이해하고 맞춤형 법률 안내를 제공합니다.<br /><br />
          높은 변호사 비용 없이, 인터넷 검색의 혼란 없이,<br />
          당신의 새 출발을 위한 든든한 길잡이가 되어드립니다.
        </p>
      </div>
    </div>

    <!-- 오른쪽 로그인 영역 -->
    <div class="right-box">

      <!-- ✅ [임시] 로그인 확인 메시지 (나중에 제거 예정) -->
      <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
      {% if request.session.user_email %}
        <div style="background-color: #e9f7ef; padding: 10px 30px; display: flex; justify-content: space-between; align-items: center;">
          <p style="margin: 0; color: #0555F7; font-weight: bold;">
            ✅ {{ request.session.user_email }} 님 환영합니다!
          </p>
          <form method="post" action="{% url 'user:logout' %}">
            {% csrf_token %}
            <button type="submit" style="border: none; background: none; color: #dc3545; font-weight: bold; cursor: pointer;">
              로그아웃
            </button>
          </form>
        </div>
      {% endif %}
      <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->

      <form method="post" action="{% url 'user:home' %}" class="form-box">
        {% csrf_token %}
        <div class="form-title">LawQuick</div>

        <div class="mb-3">
          <input type="email" name="email" class="form-control {% if messages %}is-invalid{% endif %}" placeholder="이메일" required />
        </div>

        <div class="mb-1">
          <input type="password" name="password" class="form-control {% if messages %}is-invalid{% endif %}" placeholder="비밀번호" required />
        </div>

        {% if messages %}
          <div class="login-error-box">
            {% for message in messages %}
              <p class="login-error-text {% if 'error' in message.tags %}text-danger{% endif %}">※ {{ message }}</p>
            {% endfor %}
          </div>
        {% endif %}

        {% comment %} <a href="{% url 'chat:guest_start' %}" class="guest-link">비회원으로 시작하기</a> {% endcomment %}
        <a href="/chat/guest/00/" style="color: blue; font-weight: bold;">비회원으로 시작하기 (직접 링크)</a>



        <div class="button-row">
          <button type="submit" class="btn-login">로그인</button>
          <button type="button" class="btn-join">회원가입</button>
        </div>

        <a href="{% url 'user:find_password' %}" class="find-password">비밀번호 찾기</a>
      </form>
    </div>
  </div>
</body>
</html>
