{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>게스트 채팅 시작 - LawQuick</title>
  <!-- 폰트 로딩 -->
  <link href="https://cdn.jsdelivr.net/npm/spoqa-han-sans@2.1.2/css/SpoqaHanSans.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Koh+Santepheap&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  


  <link rel="stylesheet" href="{% static 'css/lawquick-chat.css' %}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="{% static 'css/chat_common.css' %}" />
  {% comment %} {% include 'common/chat_header.html' %} {% endcomment %}
</head>
<body>
  {% include 'common/chat_header.html' %}

  <div class="welcome-container">
    <h1 class="welcome-title">어떤 점이 고민이신가요?</h1>
  
    <div class="welcome-box">
      <form method="post" action="{% url 'chat:chat_member_save' %}" id="memberForm">
        {% csrf_token %}
        <textarea class="welcome-input" name="user_input" placeholder="질문을 입력하세요." required></textarea>
      
        <div class="welcome-buttons">
          <div class="left-buttons">
            <button class="info-button" type="button">의뢰인 개인정보 입력</button>
      
            <div class="help-wrapper" style="position: relative;">
              <button class="help-button" onclick="toggleHelp()" type="button">?</button>
              <div id="help-message" class="help-message" style="display: none;">
                귀하의 상황에 맞는 맞춤형 법률 상담을 위해 몇 가지 정보를 입력해 주세요.<br />
                입력하신 정보는 오직 상담 목적으로만 활용되며, 철저한 보안 시스템 하에 관리됩니다.
              </div>
            </div>
          </div>
      
          <button class="submit-button" type="submit">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </form>
      </div>
    </div>
  
  <script>
      // 도움말 토글
      function toggleHelp() {
        const help = document.getElementById("help-message");
        help.style.display = help.style.display === "none" ? "block" : "none";
      }
    
      // textarea 입력 시 높이 자동 조절 (최대 160px)
      const textarea = document.querySelector('.welcome-input');
      textarea.addEventListener('input', () => {
        textarea.style.height = 'auto';
        textarea.style.height = Math.min(textarea.scrollHeight, 160) + 'px';
      });
  </script>
  
</body>
</html>
